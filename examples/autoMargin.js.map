{"version":3,"sources":["webpack:///./examples/autoMargin.js"],"names":["NODES","id","x","y","Node","props","data","console","log","WrappedNode","getNodeData","nodes","map","nodeData","idx","a","b","App","render","Component","SimpleApp","width","height","onNodeChange","connectFunction","start","end","autoMargin","Wrapper","arg","state","connections","from","to","handleConnectionsChange","before","after","setState","handleActiveNodesChange","bind","document","getElementById"],"mappings":"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","file":"autoMargin.js","sourcesContent":["import { createContainer, createNode, createConnects } from 'rc-fringing';\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'rc-fringing/assets/index.less';\n\nconst NODES = [\n  {id : 1,x: 50, y: 0},\n  {id : 2, x: 150, y: 100},\n  {id: 3, x: 300, y: 50},\n  {id: 4, x: 350, y: 200},\n  {id: 5, x: 450, y: 100},\n  {id: 6, x: 550, y: 200}\n];\n\nfunction Node(props) {\n  return <div> Node [{props.data.id}] </div>\n}\n\nconsole.log('>> NodeProvider', createNode);\n\nconst WrappedNode = createNode(collect => ({\n  getNodeData: (props) => props.data,\n}))(Node);\n\nconst nodes = NODES.map((nodeData, idx) => <WrappedNode\n  onConnect={(a, b) => { console.log('onConnect', a, b); }}\n  onActive={(data) => { console.log('onActive', data); }}\n  key={idx}\n  data={nodeData}\n/>);\n// @Provider(...)\nclass App extends React.Component {\n  render() {\n    return <div>{nodes}</div>\n  }\n}\n\nconst SimpleApp = createContainer({\n  width: 800,\n  height: 600,\n  onNodeChange: (id, data) => console.log('>> onNodeChange', id, data),\n  connectFunction: (start, end) => [start.x, start.y, end.x, end.y],\n  autoMargin: true,\n})(App);\n\n\nclass Wrapper extends Component {\n  constructor(...arg) {\n    super(...arg);\n    this.state = {\n      connections: [\n        { from: { id: 1}, to: { id: 3 }}, // 垂直\n        { from: { id: 2}, to: { id: 4 }}, // 垂直\n        { from: { id: 4}, to: { id: 3 }}, // 反向\n        { from: { id: 5}, to: { id: 6 }}, // 垂直\n        { from: { id: 5}, to: { id: 4 }}, // 垂直\n      ],\n    }\n  }\n  handleConnectionsChange(before, after) {\n    this.setState({\n      connections: after,\n    });\n  }\n  handleActiveNodesChange(data) {\n    console.log('onActiveNode change', data);\n  }\n  render() {\n    return (<div>\n      <SimpleApp\n        connections={this.state.connections}\n        onConnectionsChange={this.handleConnectionsChange.bind(this)}\n        onActiveNodesChange={this.handleActiveNodesChange.bind(this)}\n      />\n    </div>);\n  }\n}\n\n\nReactDOM.render(<div>\n  <Wrapper />\n</div>, document.getElementById('__react-content'));\n\n\n\n// WEBPACK FOOTER //\n// ./examples/autoMargin.js"],"sourceRoot":""}