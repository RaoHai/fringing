{"version":3,"sources":["webpack:///./examples/connections.js"],"names":["NODES","id","x","y","Node","props","data","console","log","WrappedNode","getNodeData","nodes","map","nodeData","idx","a","b","App","render","Component","SimpleApp","width","height","onNodeChange","Wrapper","arg","state","connections","from","point","to","handleClick","setState","handleConnectionsChange","before","after","handleActiveNodesChange","bind","document","getElementById"],"mappings":"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","file":"connections.js","sourcesContent":["import { createContainer, createNode, createConnects } from 'rc-fringing';\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'rc-fringing/assets/index.less';\n\nconst NODES = [\n  {id : 1,x: 50, y: 0},\n  {id : 2, x: 150, y: 100},\n  {id: 3, x: 300, y: 50},\n  {id: 4, x: 350, y: 200},\n  {id: 5, x: 450, y: 100},\n  {id: 6, x: 550, y: 200}\n];\n\nfunction Node(props) {\n  return <div> Node [{props.data.id}] </div>\n}\n\nconsole.log('>> NodeProvider', createNode);\n\nconst WrappedNode = createNode(collect => ({\n  getNodeData: (props) => props.data,\n}))(Node);\n\nconst nodes = NODES.map((nodeData, idx) => <WrappedNode\n  onConnect={(a, b) => { console.log('onConnect', a, b); }}\n  onActive={(data) => { console.log('onActive', data); }}\n  key={idx}\n  data={nodeData}\n/>);\n// @Provider(...)\nclass App extends React.Component {\n  render() {\n    return <div>{nodes}</div>\n  }\n}\n\nconst SimpleApp = createContainer({\n  width: 800,\n  height: 600,\n  onNodeChange: (id, data) => console.log('>> onNodeChange', id, data),\n})(App);\n\n\nclass Wrapper extends Component {\n  constructor(...arg) {\n    super(...arg);\n    this.state = {\n      connections: [\n        { from: { id: 4, point: 't' }, to: { id: 3, point: 't'}}, // 反向\n        { from: { id: 5, point: 'b' }, to: { id: 6, point: 'l'}}, // 垂直\n        { from: { id: 5, point: 'l' }, to: { id: 4, point: 'b'}}, // 垂直\n        { from: { id: 5, point: 'r' }, to: { id: 4, point: 'l'}},\n        { from: { id: 5, point: 'l' }, to: { id: 6, point: 'b'}},\n      ],\n    }\n  }\n  handleClick() {\n    this.setState({\n      connections: [\n        { from: { id: 1, point: 'r' }, to: { id: 2, point: 'l'}}, // 同向\n        { from: { id: 1, point: 'l' }, to: { id: 2, point: 'r'}}, // 同向,弯折\n        { from: { id: 4, point: 't'}, to: { id: 3, point: 'b'}}, // 同向，竖直\n        { from: { id: 4, point: 'r' }, to: { id: 3, point: 'r'}}, // 反向\n        { from: { id: 3, point: 'l' }, to: { id: 4, point: 'l'}}, // 反向\n        { from: { id: 3, point: 'b' }, to: { id: 4, point: 'b'}}, // 反向\n      ],\n    });\n  }\n  handleConnectionsChange(before, after) {\n    this.setState({\n      connections: after,\n    });\n  }\n  handleActiveNodesChange(data) {\n    console.log('onActiveNode change', data);\n  }\n  render() {\n    return (<div>\n      <button onClick={::this.handleClick}>change connections</button>\n      <SimpleApp\n        connections={this.state.connections}\n        onConnectionsChange={this.handleConnectionsChange.bind(this)}\n        onActiveNodesChange={this.handleActiveNodesChange.bind(this)}\n      />\n    </div>);\n  }\n}\n\n\nReactDOM.render(<div>\n  <Wrapper />\n</div>, document.getElementById('__react-content'));\n\n\n\n// WEBPACK FOOTER //\n// ./examples/connections.js"],"sourceRoot":""}